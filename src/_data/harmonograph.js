const generateHarmonographSVG = require('@harmonograph/svg');

const pendulumArray = [
	[
		[1.994, 2.295, 0.002],
		[1.988, 2.559, 0.005],
		[2.005, 0.731, 0.006],
		[2.998, 3.11, 0.009]
	],
	[
		[1.998, 2.748, 0.005],
		[2.981, 2.169, 0.009],
		[2.002, 1.501, 0.001],
		[2.001, 0.194, 0.003]
	],
	[
		[2.98, 2.83, 0.0026],
		[2.0115, 0.3513, 0],
		[1.9944, 1.485, 0.008],
		[2.0033, 0.968, 0.009]
	],
	[
		[2.019, 1.323, 0.005],
		[2.0196, 2.076, 0.009],
		[3.0102, 0.1765, 0.0008],
		[1.997, 2.762, 0.008]
	],
	[
		[2.0097, 1.587, 0.002],
		[1.98, 2.676, 0.004],
		[3.0187, 1.274, 0.00042],
		[2.0126, 2.03, 0.002]
	],
	[
		[2.001, 2.066, 0.0026],
		[1.9986, 2.253, 0.007],
		[3.0085, 2.534, 0.008],
		[1.9875, 0.371, 0.0023]
	],
	[
		[1.988, 2.182, 0.006],
		[3.0034, 3.088, 0],
		[1.9877, 1.06, 0.008],
		[1.9946, 0.462, 0.003]
	],
	[
		[1.9974, 3.005, 0.007],
		[1.9847, 2.426, 0.006],
		[1.9992, 0.4556, 0.0014],
		[2.9967, 0.2437, 0.002]
	],
	[
		[3.0056, 1.717, 0.007],
		[3.0107, 1.163, 0.004],
		[3.019, 2.68, 0.008],
		[2.001, 0.613, 0.0045]
	],
	[
		[3.0146, 1.59, 0.006],
		[1.985, 0.717, 0],
		[2.008, 1.49, 0.005],
		[2.985, 2.367, 0.009]
	]
];

const randomPendulum = Math.floor(Math.random() * pendulumArray.length);
const pendulums = pendulumArray[randomPendulum]
	.map(values => ({
		amplitude: 200,
		frequency: values[0],
		phase: values[1],
		damping: values[2],
	}));

const harmonographSVG = generateHarmonographSVG({
	strokeColor: 'var(--text-color--light)',
	pendulums,
	strokeWidth: 0.5,
	animatePath: false
});

module.exports = () => ({
	svg: harmonographSVG
});
